{"version":3,"sources":["../../src/script/handspinner.js"],"names":["WIDTH","HEIGHT","c_radian","r_radian","light","ambient","hsGeoGruoup","THREE","Group","model_hs","model_pn","mesh","controls","plane","vp","vm","colorConf","renderer","WebGLRenderer","preserveDrawingBuffer","setSize","document","getElementById","appendChild","domElement","scene","Scene","camera","PerspectiveCamera","DirectionalLight","position","set","add","AmbientLight","scene_bg","camera_bg","OrthographicCamera","loader","JSONLoader","modelPath","termsTree","term1","ledNo","oftenBunbo","oftenBunshi","ledColor","term2","term3","term4","term5","term6","term7","term8","term9","term10","term11","term12","term13","initRender","load","geo","mat","geometry","material","scale_hs","BasicMat","MeshBasicMaterial","PhongMat","MeshPhongMaterial","color","Color","wireframe","Mesh","scale","opacity","transparent","p_geometry","PlaneGeometry","i","p_material","rotation","x","Math","PI","z","y","visible","bg_geometry","bg_material","bg","lookAt","OrbitControls","main","count","render_count","count_three","update","v_phase","autoClearColor","Number","initFormDefault","tmp_colored_led","key","tmpTerm","render","requestAnimationFrame","cameraZ","cos","keys","$","val","led_id","slice","makeColorPicker","initFormWatch","newTermId","change","console","log","termId","parent","attr","bunboVal","children","remove","append","value","text","initExecBtn","click","each","index","element","term_id","initVueTerm","Vue","component","template","props","methods","deleteTerm","$emit","el","data","terms","id","content","term_phase","addTerm","push","setTimeout","deleteTermEmit","splice","initVuePhase","changePhase","nextPhase","initAnimation","className","num","defaultColor","picker_id","spectrum","showPalette","preferredFormat","showInput","palette","initSakura","initModal","iziModal","on","event","preventDefault","ready"],"mappings":"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","file":"handspinner.js","sourcesContent":["var WIDTH = 400;\nvar HEIGHT = 400;\nlet c_radian = 0;\nlet r_radian = 0;\nlet light;\nlet ambient;\nvar hsGeoGruoup = new THREE.Group();\nvar model_hs;\nvar model_pn;\nvar mesh;\nvar controls;\nvar plane = {};\n\nvar vp = {}; //グローバルなフェイズ管理\n// 桜用\n\n\nvar vm = {};\n\nconst colorConf = {\n\t'red': '#ff0000', 'yellow': '#f0f000', 'green': '#00e000', 'skyblue': '#00ffff',\n\t'blue': '#0000ff', 'black': '#000000', 'dark' : '#335500', 'white': '#ffffff', 'pink' : '#ff99ff'\n};\n\n// レンダラー\nlet renderer = new THREE.WebGLRenderer({\n  preserveDrawingBuffer:true\n});\n// renderer.autoClearColor = false;\nrenderer.setSize( WIDTH, HEIGHT );\n// renderer.setClearColor(0xffffff);\n\n\n// canvasを配置\ndocument.getElementById('stage').appendChild(renderer.domElement)\n\n// メイン描画用のシーンとカメラ\nvar scene = new THREE.Scene();\nvar camera = new THREE.PerspectiveCamera( 70, WIDTH / HEIGHT, 1, 100 );\n//light\nlight = new THREE.DirectionalLight(0xffffff, 1);\nlight.position.set(0, 200, 80);\nscene.add(light);\nambient = new THREE.AmbientLight(0x404040);\nscene.add(ambient);\n\n//背景の定義\nvar scene_bg = new THREE.Scene();\nvar camera_bg = new THREE.OrthographicCamera(0, WIDTH, HEIGHT, 0, 0, 1000);\n// メイン描画オブジェクト\n\n//JSONをロード\nlet loader = new THREE.JSONLoader();　　\nlet modelPath = './data/hs300k.json'\n// modelPath = \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/1538236/hs300k.json\";\n\n////////////\n//初期カラー\n//////////\nvar termsTree = {\n\t// term1 : {\n\t// \tledNo : 1,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 11,\n\t// \tledColor : '#ff99ff'\n\t// },\n\t// term2 : {\n\t// \tledNo : 2,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi :10,\n\t// \tledColor : '#ff99ff'\n\t// },\n\t// term3 : {\n\t// \tledNo : 3,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 9,\n\t// \tledColor : '#ff99ff'\n\t// },\n\t// term4 : {\n\t// \tledNo : 4,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 8,\n\t// \tledColor : '#ff99ff'\n\t// },\n\t// term5 : {\n\t// \tledNo : 5,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 7,\n\t// \tledColor : '#ff99ff'\n\t// },\n\t// term6 : {\n\t// \tledNo : 1,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 1,\n\t// \tledColor : '#000000'\n\t// },\n\t// term7 : {\n\t// \tledNo : 2,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 2,\n\t// \tledColor : '#000000'\n\t// },\n\t// term8 : {\n\t// \tledNo : 3,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 3,\n\t// \tledColor : '#000000'\n\t// },\n\t// term9 : {\n\t// \tledNo : 4,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 4,\n\t// \tledColor : '#000000'\n\t// },\n\t// term10 : {\n\t// \tledNo : 5,\n\t// \toftenBunbo : 12,\n\t// \toftenBunshi: 5,\n\t// \tledColor : '#000000'\n\t// },\n\tterm1 : {\n\t\tledNo : 1,\n\t\toftenBunbo : 1,\n\t\toftenBunshi: 1,\n\t\tledColor : '#ff78ff'\n\t},\n\tterm2 : {\n\t\tledNo : 2,\n\t\toftenBunbo : 12,\n\t\toftenBunshi :11,\n\t\tledColor : '#ff99ff'\n\t},\n\tterm3 : {\n\t\tledNo : 3,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 10,\n\t\tledColor : '#ff99ff'\n\t},\n\tterm4 : {\n\t\tledNo : 4,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 9,\n\t\tledColor : '#ff99ff'\n\t},\n\tterm5 : {\n\t\tledNo : 5,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 8,\n\t\tledColor : '#ffaaff'\n\t},\n\tterm6 : {\n\t\tledNo : 2,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 1,\n\t\tledColor : '#000000'\n\t},\n\tterm7 : {\n\t\tledNo : 3,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 2,\n\t\tledColor : '#000000'\n\t},\n\tterm8 : {\n\t\tledNo : 4,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 3,\n\t\tledColor : '#000000'\n\t},\n\n\tterm9 : {\n\t\tledNo : 5,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 7,\n\t\tledColor : '#000000'\n\t},\n\tterm10 : {\n\t\tledNo : 5,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 5,\n\t\tledColor : '#ffaaff'\n\t},\n\tterm11 : {\n\t\tledNo : 5,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 4,\n\t\tledColor : '#000000'\n\t},\n\tterm12 : {\n\t\tledNo : 1,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 7,\n\t\tledColor : '#ffc700'\n\t},\n\tterm13 : {\n\t\tledNo : 1,\n\t\toftenBunbo : 12,\n\t\toftenBunshi: 4,\n\t\tledColor : '#ff78ff'\n\t},\n\n\n}\n////////////\n//レンダリング初期表示\n//////////\n\nfunction initRender () {\n\tloader.load(modelPath, (geo, mat) => {\n\t\tlet geometry = geo;\n\t\tlet material = mat;\n\t\tlet scale_hs = 1;\n\t  //let BasicMat = new THREE.MeshBasicMaterial(mat);\n\t  let BasicMat = new THREE.MeshBasicMaterial(mat);\n\t  let PhongMat = new THREE.MeshPhongMaterial(mat);\n\t  BasicMat.color = new THREE.Color(\"#ffffff\");\n\t  BasicMat.wireframe = true;\n\n\t  model_hs = new THREE.Mesh(geo, BasicMat);\n\t  model_pn = new THREE.Mesh(geo, PhongMat);\n\n\t\tmodel_hs.scale.set(scale_hs, scale_hs, scale_hs);\n\t\tmodel_pn.scale.set(scale_hs*1.05, scale_hs*1.05, scale_hs*1.05);\n\t\tmodel_pn.material.color = new THREE.Color(\"#cccccc\");\n\t\tmodel_hs.material.opacity =0.003;\n\t\tmodel_hs.material.transparent = true;\n\n\t\tlet p_geometry = new THREE.PlaneGeometry( 0.2, 0.17);\n\t\t// let p_geometry = new THREE.CircleGeometry( 0.13);\n\t\t// let p_geometry = new THREE.SphereGeometry(0.1,16,16, 0, Math.PI*2, 0, Math.PI/2);\n\t\t// p_geometry.rotation.y = (Math.PI) / 4  ;\n\t\thsGeoGruoup.add(model_pn);\n\n\t\t// ハンドスピナーとLEDライト５個をグループに\n\t\t// let hsGeoGruoup = new THREE.Group();\n\n\t\t\t// renderer.preserveDrawingBuffer = \"true\";\n\t\t\t// renderer.autoClearColor = \"false\";\n\t\thsGeoGruoup.add(model_hs);\n\t\tfor (let i=1;i <= 5; i++) {\n\t\t\t// let p_material = new THREE.MeshBasicMaterial( { side: THREE.DoubleSide} );\n\t\t\tlet p_material = new THREE.MeshPhongMaterial( );\n\t\t\tplane[i] = new THREE.Mesh( p_geometry, p_material );\n\t\t  plane[i].rotation.x = -(Math.PI) / 2  ;\n\n\t\t\t//平面の位置を少しずつずらす。\n\t\t\tplane[i].position.z =0.27*i + 1.2;\n\t\t\t//画面に対する奥行き方向は変更なしで2\n\t\t\tplane[i].position.y =0.39;\n\n\t\t\tplane[i].material.color = new THREE.Color(\"#335500\");\n\t\t\tplane[i].visible = 0;\n\t\t  // 先ほどのboxをグループに追加\n\t\t  hsGeoGruoup.add(plane[i]);\n\t\t  //hsGeoGruoup.add(model_pn);\n\n\t\t}\n\n\t\tscene.add( hsGeoGruoup );\n\n\t  let bg_geometry = new THREE.PlaneGeometry(WIDTH, HEIGHT, 10, 10);\n\t  let bg_material = new THREE.MeshBasicMaterial({\n\t    color: 0x000000,\n\t    transparent: true,\n\t    opacity: 0.012,\n\t  });\n\n\t  let bg = new THREE.Mesh(bg_geometry, bg_material);\n\t  bg.position.x = WIDTH/2;\n\t  bg.position.y = HEIGHT/2;\n\t  scene_bg.add(bg);\n\t\t//cameraの位置を設定\n\t\tcamera.position.set(0, 6, 0);\n\t\tcamera.lookAt({x:0, y:0, z:0 });\n\n\t\t// OrbitControls対応箇所\n\t\tcontrols = new THREE.OrbitControls(camera, renderer.domElement);\n\n\t  main();\n\t});\n}\n\n////////////\n//再帰処理\n//////////\n\nlet count = 0;\nlet render_count = 0;\nlet count_three =0;\n\nfunction main() {\n\t// OrbitControls対応箇所\n\tcontrols.update()\n\tif (vp.v_phase === \"1_lets_spin\" || vp.v_phase === \"0_start_anime\" ) {\n\n\t} else if (vp.v_phase === \"2_more_spin\") {\n\t\thsGeoGruoup.rotation.y += (2*Math.PI /60);\n\t} else if ( vp.v_phase === \"3_led_explain\") {\n\t\thsGeoGruoup.rotation.y += (2*Math.PI /60)*7 ;\n\t} else if (vp.v_phase === \"4_led_light_on\"){\n\t\tif (model_pn.visible ) {\n\t\t\tmodel_pn.visible = 0;\n\t\t\trender_count = 40;\n\t\t} else {\n\t\t\trenderer.autoClearColor = false;\n\t\t\tfor (let ledNo = 1 ; ledNo<=5; ledNo++) {\n\t\t\t\tif (ledNo %3 ===1) { plane[ledNo].material.color = new THREE.Color('#ff0000');}\n\t\t\t\tif (ledNo %3 ===2) { plane[ledNo].material.color = new THREE.Color('#0000ff');}\n\t\t\t\tif (ledNo %3 ===0) { plane[ledNo].material.color = new THREE.Color('#00e000');}\n\t\t\t\tplane[ledNo].visible = 1;\n\t\t\t}\n\t\t\trender_count = \"step4_done\";\n\t\t}\n\n\t\t hsGeoGruoup.rotation.y += (2*Math.PI /60)*41 ;\n\n\t} else {\n\t\tif (render_count === \"step4_done\") {\n\t\t\trender_count = Number(30);\n\t\t\tinitFormDefault();\n\t\t}\n\t\t//LED複数の条件を可能にするため、今回の描画で処理されたLEDを記録する。\n\t\tlet tmp_colored_led = {};\n\n\t\tfor (let key in termsTree ) {\n\t\t\tlet tmpTerm = termsTree[key];\n\t\t\t// console.log(key);\n\t\t\t// メインの描画決定処理\n\t\t\tif (count % tmpTerm['oftenBunbo'] < tmpTerm['oftenBunshi']) {\n\t\t\t\tplane[tmpTerm['ledNo']].material.color\n\t\t\t\t\t= new THREE.Color(tmpTerm['ledColor']);\n\t\t\t\ttmp_colored_led[tmpTerm['ledNo']] = 1;\n\t\t\t} else if (tmp_colored_led[tmpTerm['ledNo']] !== 1) {\n\t\t\t\tplane[tmpTerm['ledNo']].material.color\n\t\t\t\t\t= new THREE.Color('#000000');\n\t\t\t}\n\t\t}\n\t\thsGeoGruoup.rotation.y += (2*Math.PI /60)*13;\n\t\t// hsGeoGruoup.rotation.y += (2*Math.PI/60)*41 ;\n\t}\n\n\t// LEDの色の表示\n\tcount ++;\n  renderer.render( scene_bg, camera_bg );\n  renderer.render( scene, camera );\n\n\t// 初期表示\n\tif (render_count < 60) {\n\t\trender_count++;\n\t\tmain();\n\t} else {\n\t\tcount_three ++ ;\n\t\tif (count_three === 2) {\n\t\t\trequestAnimationFrame(main);\n\t\t\tcount_three = 0;\n\t\t} else {\n\t\t\tmain();\n\t\t}\n\t}\n\n\tlet cameraZ = 1*Math.cos(count/200)+1.1;\n\tcamera.position.set(0, 6, cameraZ);\n\n}\n\nfunction initFormDefault ( ) {\n\t// 初期のform 表示用\n\tfor (let keys in termsTree) {\n\t\tlet tmpTerm = termsTree[keys];\n\t\t// $(\"#tmpTerm .which_led[@vulue=\" + tmpTerm[\"ledNo\"] + \"]\").attr(\"checked\",\"checked\");\n\t\t// $('\"#'+'term1'+' .which_led'+'\"').val(tmpTerm[\"ledNo\"]);\n\t\t$('#'+keys+' .which_led').val(tmpTerm[\"ledNo\"]);\n\t\t$('#'+keys+' .how_often_bunbo').val(tmpTerm[\"oftenBunbo\"]);\n\t\t$('#'+keys+' .how_often_bunshi').val(tmpTerm[\"oftenBunshi\"]);\n\t\t$('#'+keys+' .which_color').val(tmpTerm[\"ledColor\"]);\n\t\tlet led_id = keys.slice(4);\n\t\tmakeColorPicker(led_id, tmpTerm[\"ledColor\"]);\n\t\t// $(\"#term1 .which_led\").val(3);\n\t}\n}\n////////////////////////\n//formの分子分母をウォッチ\n////////////////////////\n\nfunction initFormWatch ( newTermId ) {\n\t$('.how_often_bunbo').change(function(){\n\t\tconsole.log('foo');\n\t\t// let test_val = $(this).val();\n\t  let termId = $(this).parent().parent().attr(\"id\");\n\t\t// attr(\"id\");\n\t\tconsole.log($(this).val());\n\t\tlet bunboVal = Number($(this).val());\n\t\t// 一度全て削除する\n\t\t$('#'+termId+' .how_often_bunshi').children().remove();\n\n\t\tfor (let i = 1; i < bunboVal ;i++ ) {\n\t\t\t// $('#'+termId+' .how_often_bunshi').append($('<option value='i'>'回'</option>'));\n\t\t\t$('#'+termId+' .how_often_bunshi').append($('<option>').attr({ value: i }).text( i+'回'));\n\t\t}\n\t\t// ずっとのとき\n\t\tconsole.log( bunboVal === 1 );\n\n\t\tif ( bunboVal === 1 ) {\n\t\t\tconsole.log('came');\n\t\t\t$('#'+termId+' .how_often_bunshi').append($('<option>').attr({ value: 1 }).text('- '));\n\t\t}\n\n\n\t\t// let how_often = $(\"#fruits option:selected\").val();\n\t\t// console.log($('.how_often_bunbo').val());\n\t\t// console.log($('.how_often_bunbo').parent().val());\n\t\t// console.log($('.how_often_bunbo').parent());\n\t\t// let tmp_val = $('.how_often_bunbo').parent().parent();\n\t\t//\n\t\t// console.log(JSON.stringify(tmp_val));\n\t\t// console.log(tmp_val[0]);\n\t\t// console.log(this);\n\t\t// console.log(this.val());\n\t});\n\n\n\tif ( newTermId ) {\n\t\t$('#'+newTermId+' .how_often_bunshi').children().remove();\n\t\t$('#'+newTermId+' .how_often_bunshi').append($('<option>').attr({ value: 1 }).text('- '));\n\t}\n\n}\n\n\n////////////////////////\n//条件を反映ボタンを押すとき\n////////////////////////\nfunction initExecBtn() {\n  $('#exe_btn').click(function() {\n    // 分母\n\t\t//初期化\n\t\tfor (let i=1 ; i <= 5; i++) {\n\t\t\tplane[i].material.color = new THREE.Color('#000000');\n\t\t}\n\n\t\ttermsTree={};\n\t\t$('.form_container').each(function(index, element){\n\n\t\t\tlet term_id = $(this).attr(\"id\");\n\t\t\t// let term_name =\"term\" + term_id;\n\t\t\t// console.log(term_name);\n\t\t\ttermsTree[term_id] = {\n\t\t\t\t'ledNo'\n\t\t\t\t\t: Number($('#'+term_id+' .which_led').val()),\n\t\t\t\t'oftenBunbo'\n\t\t\t\t\t: Number($('#'+ term_id+' .how_often_bunbo').val()),\n\t\t\t\t'oftenBunshi'\n\t\t\t\t\t: Number($('#'+ term_id+' .how_often_bunshi').val()),\n\t\t\t\t'ledColor'\n\t\t\t\t\t: $('#'+ term_id+' .which_color').val()\n\t\t\t};\n\t\t\tconsole.log($('#'+ term_id+' .which_color').val());\n\t\t\tconsole.log()\n\t\t});\n\n\t\trender_count = 0;\n\t\tconsole.log(termsTree);\n  })\n}\n\n\n/////////////////////\n//スクロールアクション//\n////////////////////\n// function countScroll () {\n// \t// スクロールしたら発動\n// \t$window.scroll(function() {\n// \t\tlet before_scroll_px = scroll_px;\n// \t\t// スクロール量を変数に格納\n// \t\tscroll_px = $(this).scrollTop();\n// \t\tdelta_scroll_px = (scroll_px) - (before_scroll_px);\n// \t\tsum_delta_scroll_px +=delta_scroll_px;\n//\n// \t\t//specialsをとめる\n// \t\tif ( delta_scroll_px < 0 ) {\n// \t\t\t$(\"#clover_main\").css(\"animation-duration\", \"0s\");\n// \t\t\t$(\"#husha_main\").css(\"animation-duration\", \"0s\");\n// \t\t\t$(\"#kanransha_main\").css(\"animation-duration\", \"0s\");\n//\n// \t\t}\n//\n// \t});\n// }\n////////////////\n//ホバー時の挙動//\n///////////////\n// function addHoverImgChange () {\n// \t$( '.item_box' ).hover((e)=>{\n//\n// \t\t\t$(e.currentTarget).find(\"img\").each((i, ev)=>{\n// \t\t\t\tif ($(ev).attr(\"class\") == \"not_spin\"  ){\n// \t\t\t\t\t$(ev).animate({opacity: 0});//\n// \t\t\t\t} else {\n// \t\t\t\t\t$(ev).animate({opacity: 1});\n// \t\t\t\t}\n// \t\t\t});\n//\n// \t},(e)=>{\n//\n// \t\t$(e.currentTarget).find(\"img\").each((i, ev)=>{\n// \t\t\tif ($(ev).attr(\"class\") == \"not_spin\"  ){\n// \t\t\t\t$(ev).animate({opacity:1});\n// \t\t\t} else {\n// \t\t\t\t$(ev).animate({opacity:0});\n// \t\t\t}\n// \t\t});\n// \t});\n// }\n\n////////////////////\n// VueによるHTML処理\n//////////////////\n\nfunction initVueTerm () {\n\n\tVue.component('termComponent', {\n\t\ttemplate: '#term-component',\n\t\tprops: [\"index\", \"term_id\",\"term\"],\n\t\tmethods: {\n\t\t\tdeleteTerm: function() {\n\t\t\t\tconsole.log(this.index);\n\t\t\t\tthis.$emit('delete-term',(this.index));//なぜかindexがうまく取れない\n\t\t\t}\n\t\t}\n\t\t// },\n\t\t// mounted: function () {\n\t\t// \t// console.log(this.$ref.foo);\n\t\t// }\n\t});\n\n\tlet count = 11;//本当は、初期値は下のtermsの数にした方が良い\n\tvm = new Vue({\n\t\tel: '.app',\n\t\tdata: {\n\t\t\tterms:[\n\t\t\t\t{id:1, content:\"term1\"},\n\t\t\t\t{id:2, content:\"term2\"},\n\t\t\t\t{id:3, content:\"term3\"},\n\t\t\t\t{id:4, content:\"term4\"},\n\t\t\t\t{id:5, content:\"term5\"},\n\t\t\t\t{id:6, content:\"term6\"},\n\t\t\t\t{id:7, content:\"term7\"},\n\t\t\t\t{id:8, content:\"term8\"},\n\t\t\t\t{id:9, content:\"term9\"},\n\t\t\t\t{id:10, content:\"term10\"},\n\t\t\t\t{id:11, content:\"term11\"},\n\t\t\t\t{id:12, content:\"term12\"},\n\t\t\t\t{id:13, content:\"term13\"},\n\t\t\t\t\t \t],\n\t\t\tterm_phase : \"not_show\"\n\t \t},\n\t\tmethods: {\n\t\t\taddTerm: function(index) {\n\t\t\t\tcount++;\n\t\t\t\tlet term_id= \"term\"+count;\n\t\t\t\tthis.terms.push(\n\t\t\t\t\t{id:count, content:term_id}\n\t\t\t\t);\n\t\t\t\tsetTimeout( ()=>{\n\t\t\t\t\tmakeColorPicker(count);\n\t\t\t\t\tinitFormWatch( term_id );\n\t\t\t\t},100);\n\t\t\t\tconsole.log(count);\n\t\t\t},\n\t\t\t// deleteTermEmit: function(index) {\n\t\t\tdeleteTermEmit: function(index) {\n\t\t\t\t// if(confirm(\"この条件をほんとうに消しますか\")) {\n\t\t\t\t\tthis.terms.splice(index,1)\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction initVuePhase() {\n\t//vpはグローバル変数\n\tvp = new Vue({\n\t\tel: '.vue_phase',\n\t\tdata: {\n\t\t\tv_phase : \"0_start_anime\"\n\t\t\t//フェイズは以下がある。\n\t\t\t//(0) : 0_start_anime\n\t\t\t//(1) : 1_lets_spin\n\t\t\t//(2) : 2_more_spin\n\t\t\t//(3) : 3_led_explain\n\t\t\t//(4) : 4_led_light_on\n\n\t\t\t//(5) : 5_teach_how_to\n\t\t},\n\t\tmethods: {\n\t\t\tchangePhase (nextPhase) {\n\t\t\t\tvp.v_phase = nextPhase;\n\t\t\t\tconsole.log(\"phase\"+nextPhase);\n\t\t\t\tif (nextPhase === \"5_teach_how_to\") {\n\t\t\t\t\tvm.term_phase = \"term_show\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n}\n\nfunction initAnimation() {\n\n\tlet el = document.getElementById(\"spinyart_img\");\n\tel.className += \" getin_spin\";\n\tsetTimeout( ()=>{\n\t\tel.className += \" getin_spin\";\n\t\tvp.v_phase = \"4_led_light_on\";\n\t\t// 桜用\n\n\t\t// animateInWindow();\n\t},4500);\n\n\n}\n\n\n\nfunction makeColorPicker(num, defaultColor) {\n\tlet picker_id = \"picker\"+ num;\n\tconsole.log(picker_id);\n\tdefaultColor = defaultColor ? defaultColor : \"#FFFFFF\";\n\n\t$('#' + picker_id ).spectrum({\n\t\tcolor: defaultColor,\n\t\tshowPalette: true,\n\t\tpreferredFormat: \"hex\",\n\t\tshowInput: true,\n\t\tpalette: [\n\t\t\t[\"#ffffff\",  \"#000000\",\"#ff0000\",'#ff99ff',\"#a422ff\",\"#0000ff\",\"#00ffff\",\n\t\t\t \"#22ff85\", \"#00e000\", \"#ff9800\", \"#f0f000\" ]\n\t\t]\n\t});\n\t// $('#' + picker_id ).spectrum({\n\t// \treplacerClassName: 'picker_style'\n\t// });\n}\n\nfunction initSakura () {\n\tsetTimeout( ()=>{\n\n\t\tvp.v_phase = \"5_teach_how_to\";\n\t\t// 桜用\n\n\t\t// animat\n\t},4550);\n\n}\n\n\nfunction initModal ( ) {\n\t$('#modal-default').iziModal();\n\t$(document).on('click', '.open-default', function (event) {\n\t\tevent.preventDefault();\n\t\t$('#modal-default').iziModal('open');\n\t\tconsole.log(\"click\");\n\t});\n\n}\n\n$(document).ready(function() {\n\t// $(window).fadeThis({speed: 600, distance: 4});\n\t// $(countScroll());\n\t// $(addHoverImgChange());\n\tinitVueTerm();\n\t// initColorPicker();\n\tinitAnimation();\n\tinitSakura();\n\tinitFormDefault();\n\tinitVuePhase();\n\tinitExecBtn();\n\tinitFormWatch();\n\tinitModal();\n\t$(initRender());\n\n\n});\n"]}